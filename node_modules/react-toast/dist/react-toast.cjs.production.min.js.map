{"version":3,"file":"react-toast.cjs.production.min.js","sources":["../src/components/Icons/Success.tsx","../src/components/Icons/Close.tsx","../src/components/Icons/Info.tsx","../src/components/Icons/Warning.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/components/Toast/Toast.tsx","../src/components/Toast/ToastIcon.tsx","../src/hooks/useToast.ts","../src/types/types.ts","../src/utils/emitter.ts","../src/ToastContainer.tsx","../src/toast.ts","../src/utils/toaster.ts","../src/utils/toastDispatcher.ts"],"sourcesContent":["import React from 'react'\n\nconst Success = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n      <g transform=\"translate(.077 .077)\">\n        <g>\n          <path\n            fill=\"none\"\n            stroke=\"#fff\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"1.5\"\n            d=\"M3.719 7.884L6.235 10.4l3.032-3.032 2.774-2.774\"\n          ></path>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default React.memo(Success)\n","import React from 'react'\n\nconst Close = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n      <g transform=\"translate(.077 .077)\">\n        <g>\n          <path\n            fill=\"#fff\"\n            d=\"M10.915 9.98l2.853-2.846a.666.666 0 00-.942-.942L9.979 9.044 7.133 6.191a.666.666 0 00-.942.942L9.044 9.98 6.19 12.826a.666.666 0 10.942.942l2.846-2.853 2.846 2.853a.666.666 0 10.942-.942z\"\n            transform=\"translate(-2.017 -2.018)\"\n          ></path>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default React.memo(Close)\n","import React from 'react'\n\nconst Info = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n      <g transform=\"translate(-1533 -39)\">\n        <g fill=\"#fff\" transform=\"translate(-.358 -1.639)\">\n          <circle cx=\"1.134\" cy=\"1.134\" r=\"1.134\" transform=\"rotate(180 771.246 22.823)\"></circle>\n          <path\n            d=\"M1 0a1 1 0 00-1 1v5a1 1 0 002 0V1a1 1 0 00-1-1z\"\n            transform=\"rotate(180 771.17 26.882)\"\n          ></path>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default React.memo(Info)\n","import React from 'react'\n\nconst Warning = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n      <g transform=\"rotate(180 774.5 27.5)\">\n        <g fill=\"#fff\" transform=\"translate(-.358 -1.639)\">\n          <circle cx=\"1.134\" cy=\"1.134\" r=\"1.134\" transform=\"rotate(180 771.246 22.823)\"></circle>\n          <path\n            d=\"M1 0a1 1 0 00-1 1v5a1 1 0 002 0V1a1 1 0 00-1-1z\"\n            transform=\"rotate(180 771.17 26.882)\"\n          ></path>\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default React.memo(Warning)\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { FC } from 'react'\nimport { Close } from '../Icons'\nimport { Toast as ToastType } from '../../types'\nimport { toastIcon as Icon } from './ToastIcon'\nimport './Toast.css'\n\nexport interface IToast extends ToastType {\n  onClose: (id: string) => void\n}\n\nconst Toast: FC<IToast> = ({\n  id,\n  content,\n  type,\n  config: { backgroundColor, color } = {},\n  onClose,\n}) => {\n  return (\n    <div className={`toast ${type}`} style={{ backgroundColor }}>\n      <div className=\"icon\">{Icon({ type })}</div>\n      <div className=\"content\">\n        <p style={{ color }}>{content}</p>\n      </div>\n      <div className=\"close\" onClick={() => onClose(id)}>\n        <Close />\n      </div>\n    </div>\n  )\n}\n\nexport default Toast\n","import React from 'react'\nimport { Success, Close, Info, Warning } from '../Icons'\nimport { Type } from '../../types'\n\ninterface IToastIcon {\n  /** Icon type */\n  type: Type\n}\n\nexport const toastIcon = ({ type }: IToastIcon) => {\n  switch (type) {\n    case 'error':\n      return <Close />\n    case 'info':\n      return <Info />\n    case 'warning':\n      return <Warning />\n    default:\n      return <Success />\n  }\n}\n","import { useReducer } from 'react'\n\nimport { Toast } from '../types'\n\nexport type TAction =\n  | { type: 'ADD'; toast: Toast }\n  | { type: 'REMOVE'; id: string }\n  | { type: 'REMOVE_ALL' }\n\ninterface IState {\n  toasts: Toast[]\n}\n\nconst initialState: IState = {\n  toasts: [],\n}\n\nconst toastReducer = (state: IState, action: TAction): IState => {\n  switch (action.type) {\n    case 'ADD':\n      return {\n        ...state,\n        toasts: [...state.toasts, action.toast],\n      }\n    case 'REMOVE': {\n      return {\n        ...state,\n        toasts: [...state.toasts.filter(toast => toast.id !== action.id)],\n      }\n    }\n    case 'REMOVE_ALL':\n      return {\n        ...state,\n        toasts: [],\n      }\n    default:\n      throw new Error()\n  }\n}\n\nexport const useToast = () => {\n  const [state, dispatch] = useReducer(toastReducer, initialState)\n\n  return { ...state, dispatch }\n}\n","export enum Events {\n  SHOW = 'show',\n  HIDE = 'hide',\n  HIDE_ALL = 'hideAll',\n}\n\nexport type Type = 'default' | 'success' | 'error' | 'info' | 'warning'\n\nexport type Position =\n  | 'top-left'\n  | 'top-center'\n  | 'top-right'\n  | 'bottom-left'\n  | 'bottom-center'\n  | 'bottom-right'\n\nexport type ToastContent = string\n\nexport type ToastConfig = {\n  backgroundColor?: string\n  color?: string\n}\n\nexport interface Toast {\n  id: string\n  content: ToastContent\n  type: Type\n  config?: ToastConfig\n}\n\nexport interface ToastProvider {\n  content: ToastContent\n  config?: ToastConfig\n}\n","import { Events } from '../types'\n\n// An event handler will take an event argument\n// and should not return a value\nexport type Handler<T = any> = (event: T) => void\n\ninterface Emitter {\n  on<T = any>(event: Events, handler: Handler<T>): void\n\n  emit<T = any>(event: Events, args?: T): void\n\n  off(): void\n}\n\nexport const emitter = ((): Emitter => {\n  const events = new Map()\n\n  return {\n    /**\n     * Register an event handler for the given event name.\n     * @param {Events} event Type of event to listen for\n     * @param {Handler} callback Handler to call in response to given event\n     */\n    on<T = any>(event: Events, callback: Handler<T>) {\n      if (!events.has(event)) events.set(event, [])\n      events.get(event).push(callback)\n    },\n\n    /**\n     * Invoke all handlers for the given event name.\n     * @param {Events} event The event type to invoke\n     * @param {Any} args Any value passed to each handler\n     */\n    emit<T = any>(event: Events, args: T) {\n      if (!events.has(event)) return\n      events.get(event).forEach((callback: Handler) => callback(args))\n    },\n\n    /** Remove all events. */\n    off() {\n      events.clear()\n    },\n  }\n})()\n","import React, { FC, useCallback, useEffect } from 'react'\nimport { Toast } from './components'\nimport { useToast } from './hooks'\nimport { emitter, toastDispatcher } from './utils'\nimport { Events, Position } from './types'\nimport './ToastContainer.css'\n\ninterface IToastContainer {\n  position?: Position\n  delay?: number\n}\n\nconst ToastContainer: FC<IToastContainer> = ({ position = 'bottom-left', delay }) => {\n  const { toasts, dispatch } = useToast()\n\n  useEffect(() => {\n    toastDispatcher({ dispatch, delay })\n\n    return () => {\n      emitter.off()\n    }\n  }, [dispatch, delay])\n\n  const onClose = useCallback((id: string) => {\n    emitter.emit(Events.HIDE, id)\n  }, [])\n\n  return (\n    <div className={`toastContainer ${position}`}>\n      {toasts.map(toast => (\n        <Toast key={toast.id} {...toast} onClose={onClose} />\n      ))}\n    </div>\n  )\n}\n\nexport default ToastContainer\n","import { emitter, toaster, Toaster } from './utils'\nimport { Events, ToastContent, ToastConfig } from './types'\n\nconst applyToast = ({ ...toast }: Toaster) => emitter.emit(Events.SHOW, toaster({ ...toast }))\n\nconst toast = (content: ToastContent, config?: ToastConfig) =>\n  applyToast({ content, type: 'default', config })\n\ntoast.success = (content: ToastContent, config?: ToastConfig) =>\n  applyToast({ content, type: 'success', config })\n\ntoast.error = (content: ToastContent, config?: ToastConfig) =>\n  applyToast({ content, type: 'error', config })\n\ntoast.info = (content: ToastContent, config?: ToastConfig) =>\n  applyToast({ content, type: 'info', config })\n\ntoast.warn = (content: ToastContent, config?: ToastConfig) =>\n  applyToast({ content, type: 'warning', config })\n\ntoast.hideAll = () => emitter.emit(Events.HIDE_ALL)\n\nexport { toast }\n","import { Type, ToastProvider, Toast } from 'types'\n\nexport interface Toaster extends ToastProvider {\n  type: Type\n}\n\nexport const toaster = ({ content, type, config }: Toaster): Toast => {\n  return {\n    id: Math.random()\n      .toString(36)\n      .substr(2, 10),\n    content,\n    type,\n    config,\n  }\n}\n","import { emitter } from './emitter'\nimport { Events, Toast } from '../types'\nimport { TAction } from '../hooks'\n\ninterface IToastDispatcher {\n  dispatch: (value: TAction) => void\n  delay?: number\n}\n\nexport const toastDispatcher = ({ dispatch, delay }: IToastDispatcher) => {\n  emitter.on(Events.SHOW, (toast: Toast) => {\n    dispatch({ type: 'ADD', toast })\n\n    if (delay)\n      setTimeout(() => {\n        dispatch({ type: 'REMOVE', id: toast.id })\n      }, delay)\n  })\n\n  emitter.on(Events.HIDE, (id: string) => dispatch({ type: 'REMOVE', id }))\n\n  emitter.on(Events.HIDE_ALL, () => dispatch({ type: 'REMOVE_ALL' }))\n}\n"],"names":["Success","React","xmlns","width","height","viewBox","transform","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","memo","Close","Info","cx","cy","r","Warning","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Toast","id","content","config","color","onClose","className","backgroundColor","Icon","onClick","Events","initialState","toasts","toastReducer","state","action","toast","filter","Error","emitter","events","Map","on","event","callback","has","set","get","push","emit","args","forEach","off","clear","applyToast","SHOW","Math","random","toString","substr","toaster","success","error","info","warn","hideAll","HIDE_ALL","position","delay","useReducer","dispatch","useEffect","setTimeout","HIDE","toastDispatcher","useCallback","map","key"],"mappings":"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"}